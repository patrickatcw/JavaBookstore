<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="common/header :: common-header">

</head>


<body>
<div th:replace="common/header :: navbar"></div>

<div class="container">
    <div class="row" style="margin-bottom: -120px;">
        <div class="col-xs-8">
            <h2 class="section-headline"><span>User Account</span>
            </h2>
        </div>
        <div class="col-xs-4">
            <!--this is the java logo-->
            <img src="https://cdn.logojoy.com/wp-content/uploads/2017/07/Java_logo_icon.png"
                 style="width:400px;height:275px;"/>
        </div>
    </div>
    <hr style="position:absolute; width:90%; height:6px; background-color: #333; z-index:-1; margin-top:-80px;">
    <!--this is the digital code image-->
    <img src="https://s3.envato.com/files/225693685/Preview_Image_00000.jpg"
         style="margin-top:-75px;width:102%; height:175px;"/>

    <div class="row" style="margin-top:10px;">
        <form th:action="@{/checkout}" method="post">

            <!--order summary in left side panel-->
            <div class="col-xs-4">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <button type="submit" class="btn btn-warning btn-block"><Strong>SUBMIT ORDER</Strong></button>
                        <p style="font-size:smaller;">By submitting your order, you are complying with our
                            <a href="#">"privacy</a> notice" and <a href="#">"terms</a> of use" agreement.</p>
                        <hr/>
                        <h3><Strong>ORDER SUMMARY:</Strong></h3>
                        <div class="row">
                            <div class="col-xs-7 text-left">
                                TOTAL (before tax):
                            </div>
                            <div class="col-xs-5 text-right">
                                $<span th:text="${shoppingBasket.grandTotal}"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-7 text-left">
                                <h3 style="color:darkred;"><strong>ORDER TOTAL (including tax): </strong></h3>
                            </div>
                            <div class="col-xs-5 text-right">
                                <!--tax rate, 7.75 %-->
                                <h3><strong style="color:darkred;">$<span
                                        th:with="total=${shoppingBasket.grandTotal+shoppingBasket.grandTotal*0.0775}"
                                        th:text="${#numbers.formatDecimal(total, 0 ,2)}"></span></strong></h3>
                            </div>
                        </div>
                        <div class="panel-footer"><Strong>**IMPORTANT NOTE: Shipping and handling have not been applied to your order.</Strong></div>
                    </div>
                </div>
            </div>

            <!--checkout information summary right panel, accordion drop down style-->
            <div class="col-xs-8">
                <div th:if=${missingRequiredField}>
                    <h5 class="alert alert-warning"><Strong>**There are some fields that are missing important information.
                        Field that are marked with an " * ", are required.</Strong></h5>
                </div>

                <div class="panel-group" id="accordion">

                    <!-- 1. Shipping Address -->
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#accordion"
                                   href="#shippingInfo"> 1. Shipping Address: </a>
                            </h4>
                        </div>
                        <div id="shippingInfo" class="panel-collapse collapse"
                             th:classappend="${classActiveShipping}? 'in'">
                            <div class="panel-body">
                                <table class="table" th:if="${not emptyShippingList}">
                                    <thead>
                                    <tr>
                                        <th>Available Shipping Address</th>
                                        <th>Operations</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr th:each="userShipping : ${userShippingList}">
                                        <td
                                                th:text="${userShipping.userShippingStreet1}+' '+${userShipping.userShippingStreet2}+', '+${userShipping.userShippingCity}
												+', '+${userShipping.userShippingState}"></td>
                                        <td><a
                                                th:href="${/setShippingAddress(userShippingId=${userShipping.id})}">Use
                                            this address:</a></td>
                                    </tr>
                                    </tbody>
                                </table>

                                <div class="form-group">
                                    <label for="shippingName">* Name:</label> <input type="text"
                                                                                    class="form-control" id="shippingName"
                                                                                    placeholder="Receiver Name" name="shippingAddressName"
                                                                                    th:value="${shippingAddress.shippingAddressName}" />
                                </div>

                                <div class="form-group">
                                    <label for="shippingStreet">* Street Address:</label> <input type="text"
                                                                                                class="form-control" id="shippingStreet"
                                                                                                placeholder="Street Address 1" name="shippingAddressStreet1"
                                                                                                th:value="${shippingAddress.shippingAddressStreet1}" />
                                </div>
                                <div class="form-group">
                                    <input type="text"
                                           class="form-control"
                                           placeholder="Street Address 2" name="shippingAddressStreet2"
                                           th:value="${shippingAddress.shippingAddressStreet2}" />
                                </div>

                                <div class="row">
                                    <div class="col-xs-4">
                                        <div class="form-group">
                                            <label for="shippingCity">* City:</label> <input type="text"
                                                                                            class="form-control" id="shippingCity"
                                                                                            placeholder="Shipping City" th:name="shippingAddressCity"
                                                                                            required="required"
                                                                                            th:value="${shippingAddress.shippingAddressCity}" />
                                        </div>
                                    </div>
                                    <div class="col-xs-4">
                                        <div class="form-group">
                                            <label for="shippingState">* State:</label> <select
                                                id="shippingState" class="form-control"
                                                th:name="shippingAddresstate"
                                                th:value="${shippingAddress.shippingAddressState}"
                                                required="required">
                                            <option value="" disabled="disabled">Please
                                                select an option...</option>
                                            <option th:each="state : ${stateList}" th:text="${state}"
                                                    th:selected="(${shippingAddress.shippingAddressState}==${state})"></option>
                                        </select>
                                        </div>
                                    </div>
                                    <div class="col-xs-4">
                                        <div class="form-group">
                                            <label for="shippingZipcode">* Zip Code:</label> <input
                                                type="text" class="form-control" id="shippingZipcode"
                                                placeholder="Shipping Zipcode"
                                                th:name="shippingAddressZipcode" required="required"
                                                th:value="${shippingAddress.shippingAddressZipcode}" />
                                        </div>
                                    </div>
                                </div>
                                <a data-toggele="collapse" data-parent="#accordion" class="btn btn-warning pull-right" href="#paymentInfo">NEXT</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
<!-- end of container -->


<div th:replace="common/header :: body-bottom-scripts">

</div>
</body>
</html>
